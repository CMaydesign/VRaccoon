<!DOCTYPE html>
<html>

<head>
    <title> VRaccoon</title>
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js ">
    </script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
   <!--  <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js">
    </script> -->
   <!--  <script src="https://cdn.jsdelivr.net/gh/alvinwan/aframe-low-poly@0.0.2/dist/aframe-low-poly.min.js"></script> -->
    <!-- <script src="https://unpkg.com/aframe-entity-generator-component@3.0.2/dist/aframe-entity-generator-component.min.js"></script> -->
    <script src="game-manager.js"></script>
</head>

<body>
    <!-- <a-scene background="color: #FAFAFA" environment="preset: forest" > -->
        <a-scene >
        <a-assets>
            <a-asset-item id="raccoon" src="raccoon.obj"></a-asset-item>
            <a-asset-item id="bush" src="bush/bush.obj">
            <img id="forest" crossorigin="anonymous" src="28853677527_41126cb570_o.jpg">
            </a-asset-item>
            <a-asset-item id="berry" src="blackberry-1/blackberry.obj"></a-asset-item>
            <a-asset-item id="berry-mtl" src="blackberry-1/blackberry.mtl"></a-asset-item>
            <a-asset-item id="tree-model" src="tree/bubing/BubingaTree.obj"></a-asset-item>
            <img id="tree1-mtl" src="tree/bubing/BubingaTree_BaseColor.png">
            <img id="skyTexture" src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg">
            <img id="groundTexture" src="grass/grass.jpg">
            <mix-in id="leaf" material="color: green"></mix-in>
            <mix-in id="leaf" geometry primitive:sphere></mix-in>
        </a-assets>


        <!-- Scene Elements -->
        <a-entity id="bush-berry">
            <a-entity id="bush" obj-model="obj:#bush;" material="src:bush/10443_Fern_v1_Diffuse.jpg" position="0 -.6 0" scale="0.03 0.03 0.03" rotation="-90" 
                animation__mouseenter="property: components.material.material.color; type: color; to: yellow; startEvents: mouseenter; dur: 500;" 
                animation__mouseleave="property: components.material.material.color; type: color; to: green; startEvents: mouseleave; dur: 500;"></a-entity>
            <a-entity id="berry" obj-model="obj:#berry; mtl:#berry-mtl"  position=".2 1 0" scale=".2 .2 .2" rotation=""   amplitude-variance="0.25"></a-entity>
        </a-entity>
        
   <!--      <a-entity  id="text" visibility="false" text="value: Gather Berries;" color=" red"  scale=" 30 30 30" position="1.4 1.7 -15.39" rotation="-0.04 82.750 0">
             <a-animation attribute="visibility"
                        dur="2000"
                        fill="forwards"
                        to="true"
                        direction="alternate"
                        begin="hover"></a-animation></a-entity>
 -->
        
       
        
        
        <a-entity id="tree" obj-model="obj:#tree-model" material="src:tree/bubing/BubingaTree_BaseColor.png" random-position scale=".5 .5 .5" rotation="" amplitude-variance="0.25" game-manager=“numberTrees: 10” static-body=""></a-entity>
        <!-- <a-entity game-manager="numberTrees: 40"></a-entity> -->

      
 
        <!-- lighting -->

        <a-light light="type:  hemisphere;  color:  #e6ffe2;  groundColor:  #204011;  decay:  0.74;  intensity:  0.75;  penumbra:  0.51;  castShadow:  true;  shadowBias:  12.16">
        </a-light>  
        <a-light type="ambient" color="#445451"></a-light>
        <a-light type="point" intensity=".2" position="0 6 0"></a-light>

        <!-- VR gamepad controls -->
        <!-- <a-entity laser-controls="hand: left"></a-entity> -->
        <a-entity oculus-touch-controls="hand: left">
        </a-entity>
        <a-entity oculus-touch-controls="hand: right">
        </a-entity>
        <a-entity tracked-controls="controller: 0; idPrefix: OpenVR">
        </a-entity>
        <a-entity gearvr-controls="orientationOffset:  [object Object]"></a-entity>

      <!-- 360-degree image-background -->
      <a-sky id="image-360" radius="300" src="#skyTexture" position="0 -30 0"
             animation__fade="property: components.material.material.color; type: color; from: #FFF; to: #000; dur: 300; startEvents: fade"
             animation__fadeback="property: components.material.material.color; type: color; from: #000; to: #FFF; dur: 300; startEvents: animationcomplete__fade"></a-sky>

        <!-- Ground -->
        <a-plane src="#groundTexture" rotation="-90 0 0" width="300" height="300" repeat="10 10"></a-plane>

        <!-- Camera Elements -->
        <a-entity id="rig" position="8.672 1.3 .207" rotation="0 64.172 0" movement-controls>
            <a-entity id="camera" camera look-controls="pointerLockEnabled: true" wasd-controls="acceleration:300">
                      <a-entity obj-model="obj:#raccoon;" scale="0.03 0.03 0.03 " position="-0.03 -1.22 -0.5" rotation="-90 68 110" material="src:raccoon/10038_Racoon_v1_Diffuse.jpg; roughness:1; meatlness:0;" rotation="-89.41 39.425 -156.3"></a-entity>
                     <a-cursor id="cursor" cursor="rayOrigin: mouse"></a-cursor>
<!--                     <a-entity id="berry" obj-model="obj:#berry; mtl:#berry-mtl"  position="-1.514 -.77 -1.609" scale=".2 .2 .2" 
                            animation="property:rotation;
                                        from: 0 0 0;
                                        to: 0 -360 0;
                                        loop: true;
                                        easing:linear;
                                        dur:3000;
                                        ">
                                <
                                        </a-entity> -->

            </a-entity>
        </a-entity>



    </a-scene>
</body>

</html>