<!DOCTYPE html>
<html>

<head>
    <title> VRaccoon</title>
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js ">
    </script>
    <script src="https://unpkg.com/aframe-template-component@3.2.1/dist/aframe-template-component.min.js"></script>
    <script src="game-manager.js"></script>
</head>

<body>
    <!-- <a-scene background="color: #FAFAFA" environment="preset: forest" > -->
        <a-scene >
        <a-assets>
            <a-asset-item id="raccoon" src="raccoon.obj"></a-asset-item>
            <img id="skyTexture" src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg">
            <img id="groundTexture" src="grass/grass.jpg">
            <a-asset-item id="city" src="city-fbx/gmae.fbx"></a-asset-item>
            <img id="city-tex" src="city/textures/buidling10.jpg">
            <a-asset-item id="house" src="house/house_01.obj"></a-asset-item>
        </a-assets>


        <!-- Scene Elements -->



        <a-entity id="city-model" fbx-model="obj:#city;" scale="20 20 20;" material="map: [src: #city-tex; anisotropy: 1.1; flipY: true]" ></a-entity>
        <!-- <a-entity id="house-model" obj-model="obj:#house;" position="0 0 0" ></a-entity> -->
      
 
        <!-- lighting -->

        <a-light light="type:  hemisphere;  color:  #e6ffe2;  groundColor:  #204011;  decay:  0.74;  intensity:  0.75;  penumbra:  0.51;  castShadow:  true;  shadowBias:  12.16">
        </a-light>  
        <a-light type="ambient" color="#445451"></a-light>
        <a-light type="point" intensity=".2" position="0 6 0"></a-light>

        <!-- VR gamepad controls -->
        <!-- <a-entity laser-controls="hand: left"></a-entity> -->
        <a-entity oculus-touch-controls="hand: left">
        </a-entity>
        <a-entity oculus-touch-controls="hand: right">
        </a-entity>
        <a-entity tracked-controls="controller: 0; idPrefix: OpenVR">
        </a-entity>
        <a-entity gearvr-controls="orientationOffset:  [object Object]"></a-entity>

      <!-- 360-degree image-background -->
      <a-sky id="image-360" radius="300" src="#skyTexture" position="0 -30 0"
             animation__fade="property: components.material.material.color; type: color; from: #FFF; to: #000; dur: 300; startEvents: fade"
             animation__fadeback="property: components.material.material.color; type: color; from: #000; to: #FFF; dur: 300; startEvents: animationcomplete__fade"></a-sky>

        <!-- Ground -->
        <a-plane src="#groundTexture" rotation="-90 0 0" width="300" height="300" repeat="10 10"></a-plane>

        <!-- Camera Elements -->
        <a-entity id="rig" position="8.672 2.079 .207" rotation="0 64.172 0" movement-controls>
            <a-entity id="camera" camera look-controls="pointerLockEnabled: true" wasd-controls="acceleration:300">
                    <a-entity obj-model="obj:#raccoon;" scale="0.03 0.03 0.03 " position="-0.03 -1.22 -0.5" rotation="-90 68 110" material="src:raccoon/10038_Racoon_v1_Diffuse.jpg; roughness:1; meatlness:0;" rotation="-89.41 39.425 -156.3"></a-entity>
                    <a-cursor id="cursor" cursor="rayOrigin: mouse"></a-cursor>

                     <!-- this berry needs to be generated when a bush is clicked-then is shown in inventory -->
                    <a-entity id="berry" obj-model="obj:#berry; mtl:#berry-mtl"  position="-1.514 -.77 -1.609" scale=".2 .2 .2" 
                            animation="property:rotation;
                                        from: 0 0 0;
                                        to: 0 -360 0;
                                        loop: true;
                                        easing:linear;
                                        dur:3000;
                                        ">
                    </a-entity>
                    <a-entity geometry="primitive:  ring;  radiusInner:  1;  radiusOuter:  1.3" material="side:  double;  offset:  [object Object];  repeat:  [object Object];  ambientOcclusionTextureOffset:  [object Object];  ambientOcclusionTextureRepeat:  [object Object];  color:  #d0ff18;  displacementTextureOffset:  [object Object];  displacementTextureRepeat:  [object Object];  metalnessTextureOffset:  [object Object];  metalnessTextureRepeat:  [object Object];  normalScale:  [object Object];  normalTextureOffset:  [object Object];  normalTextureRepeat:  [object Object];  roughnessTextureOffset:  [object Object];  roughnessTextureRepeat:  [object Object]" position="-1.514 -.77 -1.609" scale=".3 .3 .3"></a-entity>

            </a-entity>
        </a-entity>



    </a-scene>
</body>

</html>